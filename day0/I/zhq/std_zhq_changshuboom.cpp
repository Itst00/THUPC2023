#include<bits/stdc++.h>
using namespace std;

const int MAXN=2010;
int n,m,p; 
int f[MAXN][MAXN][4][2][2][2][2];

int main(){
	scanf("%d%d%d",&n,&m,&p);
	f[0][0][3][0][0][0][0]=1;
	for(long long i=0;i<=n;i++){
		for(long long j=0;j<=m;j++){
			for(long long lk=0;lk<=1;lk++)for(long long nw=0;nw<=1;nw++)
				if(!(nw==1&&lk==1))f[i][j][3][0][0][0][0]=(f[i][j][3][0][0][0][0]+f[i][j][0][lk][nw][0][0])%p;
			for(long long nw=0;nw<=1;nw++)f[i][j][2][nw][nw][nw==0][nw==1]=(f[i][j][2][nw][nw][nw==0][nw==1]+f[i][j][1][0][nw][0][0])%p;
			for(long long lk=0;lk<=1;lk++)for(long long nw=0;nw<=1;nw++)for(long long w=0;w<=1;w++)for(long long b=0;b<=1;b++)
				if(!(nw==1&&lk==1))if(!(w==1&&b==1))f[i][j][3][0][0][0][0]=(f[i][j][3][0][0][0][0]+f[i][j][2][lk][nw][w][b])%p;
			
			for(long long lk=0;lk<=1;lk++){
				f[i+1][j][0][lk][0][0][0]=(f[i+1][j][0][lk][0][0][0]+f[i][j][0][lk][0][0][0]*(n-i))%p;
				f[i+1][j][0][lk][0][0][0]=(f[i+1][j][0][lk][0][0][0]+f[i][j][0][lk][1][0][0]*(n-i))%p;
				f[i][j+1][0][lk][1][0][0]=(f[i+1][j][0][lk][1][0][0]+f[i][j][0][lk][0][0][0]*(m-j))%p;
			}
			f[i+1][j][1][0][0][0][0]=(f[i+1][j][1][0][0][0][0]+f[i][j][1][0][0][0][0]*(n-i))%p;
			f[i+1][j][1][0][0][0][0]=(f[i+1][j][1][0][0][0][0]+f[i][j][1][0][1][0][0]*(n-i))%p;
			f[i][j+1][1][0][1][0][0]=(f[i+1][j][1][0][1][0][0]+f[i][j][1][0][0][0][0]*(m-j))%p;
			for(long long lk=0;lk<=1;lk++){
				for(long long w=0;w<=1;w++){
					for(long long b=0;b<=1;b++){
						f[i+1][j][2][lk][0][w^1][b]=(f[i+1][j][2][lk][0][w^1][b]+f[i][j][2][lk][0][w][b]*(n-i))%p;
						f[i+1][j][2][lk][0][w^1][b]=(f[i+1][j][2][lk][0][w^1][b]+f[i][j][2][lk][1][w][b]*(n-i))%p;
						f[i][j+1][2][lk][1][w][b^1]=(f[i][j+1][2][lk][1][w][b^1]+f[i][j][2][lk][0][w][b]*(m-j))%p;
					}
				}
			}
			
			if(j!=m){
				f[i][j+1][0][0][1][0][0]=(f[i][j+1][0][0][1][0][0]+f[i][j][3][0][0][0][0]*i)%p;
				f[i][j+1][0][1][1][0][0]=(f[i][j+1][0][1][1][0][0]+f[i][j][3][0][0][0][0]*j)%p;
				f[i][j+1][1][0][1][0][0]=(f[i][j+1][1][0][1][0][0]+f[i][j][3][0][0][0][0])%p; 
			}else{
				f[i+1][j][0][0][0][0][0]=(f[i+1][j][0][0][0][0][0]+f[i][j][3][0][0][0][0]*i)%p;
				f[i+1][j][0][1][0][0][0]=(f[i+1][j][0][1][0][0][0]+f[i][j][3][0][0][0][0]*j)%p;
				f[i+1][j][1][0][0][0][0]=(f[i+1][j][1][0][0][0][0]+f[i][j][3][0][0][0][0])%p; 
			}
		}
	}
	printf("%d\n",f[n][m][3][0][0][0][0]);
}
